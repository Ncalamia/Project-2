<!DOCTYPE html>
<html lang="en" dir="ltr">
<%- include ('./partials/head.ejs') %>

<body id="body" tabindex="1">
	<% accomplished = false %>
	<script>
	const accomplishedToDo = (num) => {
		const accomplishedItem = document.getElementById(`accordItem${num}`)
		console.log(accomplishedItem);
		const accomplishedItemDiv = document.getElementById(`collapse${num}`)
		console.log(accomplishedItemDiv);
	}
	</script>
	<div id="main-container" class='container-fluid'>
		<div class='row'>
			<div class='header'>
				<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
		<h1 class="appTitle">Accomplished.</h1>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#"><button id="button-color" class="btn" onclick="window.location.href='/to-do/new'">Add New Item To Accomplish</button></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><button id="button-color" type="button" class="btn" data-bs-toggle="modal" data-bs-target="#myTipsModal">Tips For Accomplishing Your Goals</button></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#"><button id="button-color" type="button" class="btn btn-" data-bs-toggle="modal" data-bs-target="#myAboutModal">About</button></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Modal -->
					<div class="modal fade" tabindex="-1" id="myTipsModal">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title">Tips</h5>
									<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body">
									<h8 class="modal-section">Breaking down tasks into smaller ones can help make your goals feel more achievable. Every accomplishment, not matter how big or small, is one step closer to reaching your largest accomplishment!</h8>
								</div>
							</div>
						</div>
					</div>
<!-- Modal -->
<!-- Modal -->
					<div class="modal fade" tabindex="-1" id="myAboutModal">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title">About</h5>
									<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
								</div>
								<div class="modal-body">
									<h8 class="modal-section">What is this app about?<br>This app was created to help increase productivity and motivation.<br/><br/> Accomplished. Breaks down tasks into smaller ones to help visualize the task at hand as more approachable. This not only helps reduce procrastination but gives a sense of accomplishment when checking something off of the list. Use this app to not only accomplish daily tasks around the house but also large projects too!</h8>
								</div>
							</div>
						</div>
					</div>
<!-- Modal -->
<!-- Accordian -->
<div class='row'>
	<div id="home-container" class='content col-6'>
			<div class="accordion" id="accordionSection">
				<% for (let i = 0; i < toDos.length; i++) { %>

					<br/>
				<div class="accordion-item" id="accordion-item" id="accordItem<%=i%>">
					<!-- Progress Bar -->
							<!-- <div id="progress" class="progress">
					  	<div class="progress-bar" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
							</div> -->
					<!-- Progress Bar -->
					<h2 class="accordion-header" id="accordion-header" id="heading<%=[i]%>">
						<button id="accordion-button" class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<%=[i]%>" aria-expanded="true" aria-controls="collapse<%=[i]%>">
							<h5><%=toDos[i].toDo%></h5></a>
				</div>
				</button></h2>
				<div id="collapse<%=[i]%>" class="accordion-collapse collapse" aria-labelledby="heading<%=[i]%>" data-bs-parent="#accordionSection">
					<div class="accordion-body">

						<!-- <a id="button-color" class="btn"
						href="javascript:"
						onclick="accomplishedToDo(<%=i%>)"
						role="button"
						>Accomplished</a> -->
						<div>
							<% if (toDos[i].priority === true) { %>
							<h9>Top Priority</h9>
								<%=toDos.priority%>
							<% } %>
						</div>
						<br/>
						<a id="labelLink" href="/to-do/show/<%=toDos[i].id;%>"><h3 class="label-link"><%=toDos[i].toDo%></h3></a>
						<div class='sub-to-do-container'>
							<% if (toDos[i].subToDo !== null) {
				 		for (let n = 0 ; n < toDos[i].subToDo.length; n++) { %>
							<div class='show-sub-todo-container'>
								<% if (toDos[i].subToDo[n].subTODO != null) { %>
								<h5 class='show-sub-todo'>	<%=toDos[i].subToDo[n].subTODO%></h5>
								<% } %>
							</div>
							<% }
						} %>
						</div>
						<div>
							<br/>
							<% if (toDos[i].notes !== null) { %>
							<h6 id="notes">Notes:</h6>
							<p class='notes-index'><%=toDos[i].notes%></p>
							<% } %>
						</div>
					</div>
				</div>
				<% } %>
			</div>
<!-- Accordian -->
		</div>
<!-- Affirmation Div -->
		<div id="affirmation-container" class='content col-4'>
			<h4 class="daily-aff">Daily Affirmation:</h4>
			<div id="affirmation-div">
			<h1 class="affirmation"><%=affirmation[Math.floor(Math.random() * affirmation.length)].message%></h1>
		</div>
		</div>
<!-- Affirmation Div -->
<!-- Footer -->
</div>
	<%- include ('./partials/footer.ejs') %>
	</div>
<!-- Footer -->
</body>

</html>
