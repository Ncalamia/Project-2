<!DOCTYPE html>
<html lang="en" dir="ltr">
<%- include ('./partials/head.ejs') %>
	<body>
		<script>
		 const addSubToDo = () => {
					 const breakingPoint = document.getElementById("breakingPoint");
					 // Creating new input field
					 const inputNew = document.createElement("input");
					 inputNew.id = "subToDo"
					 inputNew.type = "text"
					 inputNew.name = `subToDo`
					 inputNew.placeholder = "Write Sub To Do Here"
					 document.body.append(inputNew);
					 // Inserting new input field in correct spot
					 breakingPoint.after(inputNew)
					}
		const deleteSubToDo = (num) => {
			console.log("working");
		 			const subToDo = document.getElementById(`subToDo${num}`)
					subToDo.remove()
					const buttonId = document.getElementById(`buttonId${num}`)
					buttonId.remove()
					const subTitleId = document.getElementById(`subTitle${num}`)
					subTitleId.remove()
					const breakId = document.getElementById("remove")
					breakId.remove()
		 			}
		</script>
		<nav>
			<a href="/to-do">Home</a>
		</nav>
		<div id="formContainer">
		<form action="/to-do" method="POST">
						<br/>
						Top priority? <input type="checkbox" name="priority" placeholder="write here"/><br/>
						<br/>
						<input type="hidden" name="accomplished" value=false>
						<input type="hidden" name="valueOfAccomplishments" value=0>
						<h4>Main Accomplishment:</h4> <br/> <input type="text" name="toDo" placeholder="Type Here"/>
						<br/>
						<br/>
						<div id="subToDoContainer">
						<% for (let i = 0; i < 6; i++) { %>
            <h5 id="subTitle<%=i%>">Mini Accomplishment:</h5>
						<input id="subToDo<%=i%>" type="text" name="subToDo<%=i%>" placeholder="Type Here"/>
							<a id="buttonId<%=i%>"class="btn btn-primary"
							href="javascript:"
							onclick="deleteSubToDo(<%=i%>)"
							role="button"
							>Delete</a>
					<div id="remove">
					</br>
					</div>
					<% } %>
						</div>
						<br/>
					<div class='submit-new-to-do'>
            <input class="btn btn-primary" type="submit" value="Create To Do"/>
					</div>
    </form>
	</div>



		<%- include ('./partials/footer.ejs') %>

	</body>
</html>
